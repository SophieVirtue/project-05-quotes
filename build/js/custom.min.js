!function(e){e(document).ready(function(){let o="";e("#new-quote-button").on("click",function(t){t.preventDefault(),o=document.URL,e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){history.pushState(null,null,qod_vars.home_url+"/"+o[0].slug),e(".post").empty(),e(".post").append(`<div class="entry-content">\n             ${o[0].content.rendered}\n            </div>\n            <div class="entry-meta">\n                <h2 class="entry-title">&mdash; ${o[0].title.rendered}</h2>\n                <span class="source">\n                    \n                </span>\n            </div>`),o[0]._qod_quote_source_url.length>0?e(".source").append(`,<a href="${o[0]._qod_quote_source_url}">&nbsp;${o[0]._qod_quote_source}</a>`):o[0]._qod_quote_source.length>0?e(".source").append(`, ${o[0]._qod_quote_source}`):e(".source").append("")}).fail(function(o){e(".post").empty(),alert("Apologies, this page is not loading...")})}),e(window).on("popstate",function(){window.location.replace(o)}),e("#quote-submission-form").on("submit",function(){event.preventDefault(),function(){const o=e("#quote-author").val(),t=e("#quote-content").val(),n=e("#quote-source").val(),s=e("#quote-source-url").val();e.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts",data:{title:o,content:t,_qod_quote_source:n,_qod_quote_source_url:s,status:"publish"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.nonce)}}).done(function(){e("#quote-submission-form").slideUp(500),e(".quote-submission").append('<p class="replace-content">Thanks, your quote submission was received!</p>')}).fail(function(){alert("We are not able to submit this quote, are you missing a field?")})}()})})}(jQuery);